{"version":3,"sources":["Player/Player.module.css","Player/PlayerControls.module.css","Login/Login.module.css","Player/SongList.module.css","Terminal/Terminal.module.css","Player/AlbumList.module.css","Mainframe.module.css","Player/PlayerArtwork.module.css","Player/SongLyrics.module.css","Mainframe.tsx","Login/Login.tsx","Player/PlayerMiddleware.tsx","Services/PlayerService.ts","Player/AlbumList.tsx","Player/PlayerArtwork.tsx","Player/PlayerHeaderbar.tsx","Player/PlayerControls.tsx","Player/SongList.tsx","Player/SongLyrics.tsx","Player/Player.tsx","Services/FileService.ts","Terminal/Terminal.tsx","serviceWorker.ts","index.tsx"],"names":["module","exports","Player","HeaderBar","HeaderBarButtons","relativeTo","ShownPlayer","MinimizedPlayer","maximizeButton","playerControls","nowPlaying","controls","playerSeekBar","playerSeeker","MaximizeButton","invisibleMiddleware","Login","LoginColumn","LoginUsername","LoginPassword","LoginAttempts","LoginButton","SongList","Song","SongListWrapper","Terminal","Commands","CommandLine","InvisibleInput","AlbumList","Album","AlbumListWrapper","Zetatech","Background","PlayerArtwork","LyricsPadding","Cyberpunk","props","_this","Object","C_Users_husevson_Documents_Personal_CyberpunkRPG_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","C_Users_husevson_Documents_Personal_CyberpunkRPG_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","C_Users_husevson_Documents_Personal_CyberpunkRPG_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","changeLogin","isLoggedIn","setState","loggedIn","enablePlayer","player","togglePlayer","state","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","_Terminal_Terminal__WEBPACK_IMPORTED_MODULE_10__","_Login_Login__WEBPACK_IMPORTED_MODULE_7__","loginFunction","_Player_Player__WEBPACK_IMPORTED_MODULE_9__","closePlayer","className","styles","src","autoPlay","loop","renderPlayer","renderLogin","Component","hot","changeUsername","e","username","currentTarget","value","changePassword","password","login","attempts","hash","CryptoJS","SHA1","toString","window","location","href","renderAttempts","react__WEBPACK_IMPORTED_MODULE_6___default","onChange","type","onClick","PlayerState","PlayerService","classCallCheck","createClass","key","_getAlbums","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","abrupt","fetch","then","s","json","fetched","albums","stop","apply","arguments","_getSongs","_callee2","album","_context2","folderName","songs","_x","possibleConstructorReturn","getPrototypeOf","react_default","Fragment","map","setShownAlbum","bind","name","interval","setSlideshowInterval","setInterval","song","artwork","length","currentShownArtwork","clearInterval","path","filename","height","width","PlayerHeaderbar","switchToPlaying","switchToInterface","PlayerInterface","NowPlaying","switchToAlbums","Albums","switchToLyrics","Lyrics","hasSong","toggleMinimize","renderMinimizeButton","PlayerControls","intervalTimer","setSeekerListener","controller","time","getCurrentTime","currentTime","togglePlayPause","isPlaying","pauseMusic","playMusic","onSeek","event","seekTo","Number","parseInt","renderSeekBar","getDuration","min","max","switchToNextSongButton","switchToNextSong","setIsPlayingStatus","switchToPreviousSongButton","switchToPreviousSong","renderSongTitle","minimized","artist","renderMaximizeButton","PlayerMiddleware","playerOpts","playerVars","autoplay","playVideo","pauseVideo","setPlayerController","target","onYTChange","getPlayerState","VideoCued","Unstarted","setIsPlaying","status","YouTube","videoId","id","opts","onReady","onStateChange","PlayerControls_PlayerControls","renderList","switchToSong","assertThisInitialized","playAllSongs","SongLyrics","renderListOrThumbnail","showList","AlbumList_AlbumList","showThisAlbum","Songs","SongList_SongList","setInterface","changeToSong","shownAlbum","SongLyrics_SongLyrics","currentSong","PlayerArtwork_PlayerArtwork","currentAlbum","changeToNextSong","currentSongIndex","findIndex","x","changeToPreviousSong","getAlbums","_this2","_ref","incAlbums","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","undefined","Symbol","iterator","done","getSongs","sent","t0","return","finish","PlayerHeaderbar_PlayerHeaderbar","mainArea","renderMainArea","PlayerMiddleware_PlayerMiddleware","FileService","_getFiles","files","data","epilogue","getVampireEpilogue","folders","result","_getVampireEpilogue","_callee3","_context3","prompt","structure","permission","reverseHistoryNumber","keyDown","execute","goUpHistory","goDownHistory","preventDefault","tabAutocomplete","ctrlKey","cls","changeCurrentCommand","currentCommand","commands","commandHistory","currentFolder","currentPath","getFolderStructure","home","mainframe","getFiles","cmd","split","folder","fold","toLowerCase","includes","join","file","print","trim","pathSplit","splice","err","replace","RegExp","endsWith","parentDirectory","push","startsWith","executeFile","cat","changeDirectry","indexOf","ls","printArray","first","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","printable","command","val","onKeyDown","Boolean","hostname","match","ReactDOM","render","Mainframe","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.2faa7293.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Player\":\"Player_Player__3UOgr\",\"HeaderBar\":\"Player_HeaderBar__1dDkB\",\"HeaderBarButtons\":\"Player_HeaderBarButtons__pmRUc\",\"relativeTo\":\"Player_relativeTo__HOhOS\",\"ShownPlayer\":\"Player_ShownPlayer__sgyQk\",\"MinimizedPlayer\":\"Player_MinimizedPlayer__1zfWf\",\"maximizeButton\":\"Player_maximizeButton__yJMfN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"playerControls\":\"PlayerControls_playerControls__2eXGF\",\"nowPlaying\":\"PlayerControls_nowPlaying__2Fexa\",\"controls\":\"PlayerControls_controls__3whdJ\",\"playerSeekBar\":\"PlayerControls_playerSeekBar__1l33D\",\"playerSeeker\":\"PlayerControls_playerSeeker__YB9ix\",\"MaximizeButton\":\"PlayerControls_MaximizeButton__2_uHe\",\"invisibleMiddleware\":\"PlayerControls_invisibleMiddleware__3f3FI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Login\":\"Login_Login__2Ou_C\",\"LoginColumn\":\"Login_LoginColumn__Wh70A\",\"LoginUsername\":\"Login_LoginUsername__1r1_l\",\"LoginPassword\":\"Login_LoginPassword__1JdXs\",\"LoginAttempts\":\"Login_LoginAttempts__rGfc9\",\"LoginButton\":\"Login_LoginButton__3mYDc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SongList\":\"SongList_SongList__1jsBL\",\"Song\":\"SongList_Song__gTrjx\",\"SongListWrapper\":\"SongList_SongListWrapper__2iaCS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Terminal\":\"Terminal_Terminal__2n9Y0\",\"Commands\":\"Terminal_Commands__15ECr\",\"CommandLine\":\"Terminal_CommandLine__2YOL0\",\"InvisibleInput\":\"Terminal_InvisibleInput__3zusx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"AlbumList\":\"AlbumList_AlbumList__3sAlA\",\"Album\":\"AlbumList_Album__3I8WZ\",\"AlbumListWrapper\":\"AlbumList_AlbumListWrapper__B04kj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Zetatech\":\"Mainframe_Zetatech__2MoiD\",\"Background\":\"Mainframe_Background__2F4Vq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"PlayerArtwork\":\"PlayerArtwork_PlayerArtwork__2oIIl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"LyricsPadding\":\"SongLyrics_LyricsPadding__3pP3D\"};","import React, { Component } from 'react';\r\nimport { hot } from 'react-hot-loader';  \r\nimport Login from './Login/Login';\r\nimport styles from './Mainframe.module.css';\r\nimport Player from './Player/Player';\r\nimport Terminal from './Terminal/Terminal';\r\n\r\ninterface ICyberpunkState {\r\n\tloggedIn: boolean;\r\n\tplayer: boolean;\r\n}\r\n\r\nclass Cyberpunk extends Component<{}, ICyberpunkState> {\r\n\tpublic constructor(props: {}) {\r\n\t\tsuper(props);\r\n\t\tthis.state = { \r\n\t\t\tloggedIn: false, \r\n\t\t\tplayer: false\r\n\t\t};\r\n\t}\r\n\r\n\tpublic changeLogin = (isLoggedIn: boolean) => {\r\n\t\tthis.setState({ loggedIn: isLoggedIn });\r\n\t}\r\n\r\n\tpublic renderLogin() {\r\n\t\tif(!this.state.loggedIn){\r\n\t\t\treturn <Login loginFunction={this.changeLogin} />\r\n\t\t}\r\n\t\telse{\r\n\t\t\treturn <Terminal enablePlayer={this.enablePlayer} />\r\n\t\t}\r\n\t}\r\n\r\n\tpublic renderPlayer() {\r\n\t\tif(this.state.player) {\r\n\t\t\treturn (\r\n\t\t\t\t<Player closePlayer={this.togglePlayer} />\r\n\t\t\t)\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic enablePlayer = () => {\r\n\t\tthis.setState({\r\n\t\t\tplayer: true\r\n\t\t})\r\n\t}\r\n\r\n\tpublic togglePlayer = () => {\r\n\t\tthis.setState({\r\n\t\t\tplayer: !this.state.player\r\n\t\t})\r\n\t}\r\n\r\n\tpublic render() {\r\n\t\treturn (\r\n\t\t\t<div className={styles.Zetatech}>\r\n\t\t\t\t<header>\r\n\t\t\t\t\t<video src=\"assets/Background.mp4\" autoPlay={true} className={styles.Background} loop={true} />\r\n\t\t\t\t</header>\r\n\t\t\t\t{this.renderPlayer()}\r\n\t\t\t\t{this.renderLogin()}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default hot(module)(Cyberpunk);\r\n","import CryptoJS from 'crypto-js';\r\nimport React, { Component } from 'react';  \r\nimport styles from './Login.module.css';\r\n\r\ninterface ILoginState {\r\n\tpassword: string;\r\n\tusername: string;\r\n\tattempts: number;\r\n} \r\n\r\ninterface ILoginProps {\r\n\tloginFunction: (isLoggedIn: boolean) => void;\r\n}\r\n\r\nclass Login extends Component<ILoginProps, ILoginState> {\r\n\t\r\n\tpublic constructor(props: ILoginProps) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tattempts: 3,\r\n\t\t\tpassword: '',\r\n\t\t\tusername: '',\r\n\t\t}\r\n\t}\r\n\r\n\tpublic changeUsername = (e: React.FormEvent<HTMLInputElement>) => {\r\n\t\tthis.setState({ username: e.currentTarget.value });\r\n\t}\r\n\r\n\tpublic changePassword = (e: React.FormEvent<HTMLInputElement>) => {\r\n\t\tthis.setState({ password: e.currentTarget.value });\r\n\t}\r\n\r\n\tpublic login = () => {\r\n\t\tthis.setState({ attempts: this.state.attempts-1 });\r\n\r\n\t\tif(this.state.attempts === 1) {\r\n\t\t\twindow.location.href = 'https://www.google.com/#q=What is password?';\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst hash = CryptoJS.SHA1(this.state.password);\r\n\t\tif(this.state.username === 'admin' && hash.toString() === 'd5240d4a4b8066612800099ed10f85cb21ec0adf') {\r\n\t\t\tthis.props.loginFunction(true);\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic renderAttempts = () => {\r\n\t\tif(this.state.attempts < 3) {\r\n\t\t\treturn <p>Wrong credentials. Remaining attempts: {this.state.attempts}</p>\r\n\t\t}\r\n\t\treturn;\r\n\t}\r\n\r\n\tpublic render() {\r\n\t\treturn (\r\n\t\t\t<div className={styles.Login}>\r\n\t\t\t\t<div className={styles.LoginUsername}>\r\n\t\t\t\t\t<h3>Username:</h3>\r\n\t\t\t\t\t<input onChange={this.changeUsername} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={styles.LoginPassword}>\r\n\t\t\t\t\t<h3>Password:</h3>\r\n\t\t\t\t\t<input onChange={this.changePassword} type=\"password\"/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={styles.LoginAttempts}>\r\n\t\t\t\t\t{this.renderAttempts()}\r\n\t\t\t\t</div>\r\n\t\t\t\t<button className={styles.LoginButton} onClick={this.login} >Login</button>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Login;\r\n","import React, { Component } from 'react';\r\nimport YouTube from 'react-youtube';\r\nimport { ISong } from './Player';\r\nimport PlayerControls from './PlayerControls';\r\nimport styles from './PlayerControls.module.css';\r\n\r\ninterface IPlayerMiddlewareProps {\r\n\tsong: ISong | null;\r\n\tswitchToNextSong: () => void;\r\n\tswitchToPreviousSong: () => void;\r\n\tminimized: boolean;\r\n\ttoggleMinimize: () => void;\r\n}\r\n\r\ninterface IPlayerMiddlewareState {\r\n\tisPlaying: boolean;\r\n\tcontroller: IController | null;\r\n}\r\n\r\nexport default class PlayerMiddleware extends Component<IPlayerMiddlewareProps, IPlayerMiddlewareState> {\r\n\tprivate playerOpts: any = {\r\n\t\theight: '0',\r\n\t\tplayerVars: {\r\n\t\t\tautoplay: 1\r\n\t\t},\r\n\t\twidth: '0'\r\n\t}\r\n\r\n\tpublic constructor(props: IPlayerMiddlewareProps) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tcontroller: null,\r\n\t\t\tisPlaying: true,\r\n\t\t}\r\n\t}\r\n\r\n\tpublic playMusic = () => {\r\n\t\tif(this.state.controller != null) {\r\n\t\t\tthis.state.controller.playVideo();\r\n\t\t\tthis.setState({\r\n\t\t\t\tisPlaying: true\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tpublic pauseMusic = () => {\r\n\t\tif(this.state.controller != null) {\r\n\t\t\tthis.state.controller.pauseVideo();\r\n\t\t\tthis.setState({\r\n\t\t\t\tisPlaying: false\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tpublic setPlayerController = (event: any) => {\r\n\t\tthis.setState({\r\n\t\t\tcontroller: event.target as IController\r\n\t\t});\r\n\t}\r\n\r\n\t// When the next button is pressed while the player is playing -> Automagically play the new song.\r\n\tpublic onYTChange = (event: {target: any, data: number}) => {\r\n\t\tif(event.target.getPlayerState() === PlayerState.VideoCued) {\r\n\t\t\tthis.playMusic();\r\n\t\t}\r\n\t\telse if(event.target.getPlayerState() === PlayerState.Unstarted) {\r\n\t\t\tthis.props.switchToNextSong();\r\n\t\t}\r\n\t}\r\n\r\n\tpublic setIsPlaying = (status: boolean) => {\r\n\t\tthis.setState({\r\n\t\t\tisPlaying: status\r\n\t\t});\r\n\t}\r\n\r\n\tpublic render() {\r\n\t\tif(this.props.song != null) {\r\n\t\t\treturn (\r\n\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t<div className={styles.invisibleMiddleware} >\r\n\t\t\t\t\t\t<YouTube videoId={this.props.song.id} opts={this.playerOpts} onReady={this.setPlayerController} onStateChange={this.onYTChange} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<PlayerControls \r\n\t\t\t\t\t\ttoggleMinimize={this.props.toggleMinimize} \r\n\t\t\t\t\t\tminimized={this.props.minimized} \r\n\t\t\t\t\t\tswitchToNextSong={this.props.switchToNextSong} \r\n\t\t\t\t\t\tswitchToPreviousSong={this.props.switchToPreviousSong}\r\n\t\t\t\t\t\tsong={this.props.song} \r\n\t\t\t\t\t\tplayMusic={this.playMusic}\r\n\t\t\t\t\t\tpauseMusic={this.pauseMusic}\r\n\t\t\t\t\t\tisPlaying={this.state.isPlaying}\r\n\t\t\t\t\t\tsetIsPlayingStatus={this.setIsPlaying}\r\n\t\t\t\t\t\tcontroller={this.state.controller}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</React.Fragment>\r\n\t\t\t)\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n}\r\n\r\nexport interface IController {\r\n\tpauseVideo: () => void;\r\n\tplayVideo: () => void;\r\n\tgetCurrentTime: () => number;\r\n\tseekTo: (seconds: number, allowSeekAhead: boolean) => void;\r\n\tgetDuration: () => number;\r\n\tgetPlayerState: () => PlayerState;\r\n}\r\n\r\nenum PlayerState {\r\n\tUnstarted,\r\n\tEnded,\r\n\tPlaying,\r\n\tPaused,\r\n\tBuffering,\r\n\tVideoCued\r\n}","import { IAlbum, ISong } from '../Player/Player';\r\n\r\nexport class PlayerService {\r\n\tpublic static async getAlbums(): Promise<IAlbum[]> {\r\n\t\treturn fetch('Music.json')\r\n\t\t.then((s) => s.json()\r\n\t\t\t.then((fetched: { albums: IAlbum[] }) => {\r\n\t\t\t\treturn fetched.albums;\r\n\t\t\t})\r\n\t\t);\r\n\t}\r\n\r\n\tpublic static async getSongs(album: IAlbum): Promise<ISong[]> {\r\n\t\treturn fetch('assets/Albums/'+ album.folderName +'/Songs.json')\r\n\t\t.then((s) => s.json()\r\n\t\t\t.then((fetched: { songs: ISong[] }) => {\r\n\t\t\t\treturn fetched.songs;\r\n\t\t\t})\r\n\t\t);\r\n\t}\r\n}","import React, { Component } from 'react';\r\nimport styles from './AlbumList.module.css';\r\nimport { IAlbum } from './Player';\r\n\r\ninterface IAlbumListProps {\r\n\talbums: IAlbum[];\r\n\tsetShownAlbum: (album: IAlbum) => void;\r\n}\r\n\r\nexport default class AlbumList extends Component<IAlbumListProps, {}> {\r\n\r\n\tconstructor(props: IAlbumListProps) {\r\n\t\tsuper(props);\r\n\t}\r\n\r\n\tpublic render() {\r\n\t\treturn (\r\n\t\t\t<div className={styles.AlbumListWrapper}>\r\n\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t<h1>Albums</h1>\r\n\t\t\t\t\t<hr/>\r\n\t\t\t\t\t<div className={styles.AlbumList}>\r\n\t\t\t\t\t\t{this.props.albums.map((album) => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<button onClick={this.props.setShownAlbum.bind(this, album)} className={styles.Album} key={album.name}>{album.name}</button>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</React.Fragment>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}","import React, { Component } from 'react';\r\nimport { IAlbum, ISong } from './Player';\r\nimport styles from './PlayerArtwork.module.css';\r\n\r\ninterface IPlayerArtworkProps {\r\n\talbum: IAlbum | null;\r\n\tsong: ISong | null;\r\n}\r\n\r\ninterface IPlayerArtworkState {\r\n\tcurrentShownArtwork: number;\r\n}\r\n\r\nexport default class PlayerArtwork extends Component<IPlayerArtworkProps, IPlayerArtworkState> {\r\n\tprivate interval = 0;\r\n\r\n\tpublic constructor(props: IPlayerArtworkProps) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tcurrentShownArtwork: 0\r\n\t\t};\r\n\t}\r\n\r\n\tpublic setSlideshowInterval = () => {\r\n\t\tthis.interval = window.setInterval(() => {\r\n\t\t\tif(this.props.song != null && this.props.song.artwork.length !== this.state.currentShownArtwork) {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tcurrentShownArtwork: this.state.currentShownArtwork + 1\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\telse if(this.props.song != null) {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tcurrentShownArtwork: 0\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}, 30000);\r\n\t}\r\n\r\n\tpublic componentWillUnmount() {\r\n\t\twindow.clearInterval(this.interval);\r\n\t}\r\n\r\n\tpublic render() {\r\n\t\tif(this.props.album != null && this.props.song != null) {\r\n\t\t\tconst path = \"assets/Albums/\" + this.props.album.folderName + \"/Artwork/\"\r\n\t\t\treturn (\r\n\t\t\t\t<div className={styles.PlayerArtwork}>\r\n\t\t\t\t\t<img src={path + this.props.song.artwork[this.state.currentShownArtwork].filename} height={'auto'} width={'auto'} />\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<div className={styles.PlayerArtwork}>\r\n\t\t\t\t<h1>No song selected</h1>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}","import 'material-icons';\r\nimport React, { Component } from 'react'\r\nimport { ISong, PlayerInterface } from './Player';\r\nimport styles from './Player.module.css';\r\n\r\ninterface IPlayerHeaderbarProps {\r\n\tswitchToInterface: (target: PlayerInterface) => void;\r\n\ttoggleMinimize: () => void;\r\n\tclosePlayer: () => void;\r\n\thasSong: ISong | null;\r\n}\r\n\r\nexport default class PlayerHeaderbar extends Component<IPlayerHeaderbarProps, {}> {\r\n\r\n\tpublic constructor(props: IPlayerHeaderbarProps) {\r\n\t\tsuper(props);\r\n\t}\r\n\r\n\tpublic switchToPlaying = () => {\r\n\t\tthis.props.switchToInterface(PlayerInterface.NowPlaying);\r\n\t}\r\n\r\n\tpublic switchToAlbums = () => {\r\n\t\tthis.props.switchToInterface(PlayerInterface.Albums);\r\n\t}\r\n\r\n\tpublic switchToLyrics = () => {\r\n\t\tthis.props.switchToInterface(PlayerInterface.Lyrics);\r\n\t}\r\n\r\n\tpublic renderMinimizeButton() {\r\n\t\tif(this.props.hasSong != null) { \r\n\t\t\treturn (\r\n\t\t\t\t<li onClick={this.props.toggleMinimize}>_</li>\r\n\t\t\t)\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\tpublic render() {\r\n\t\treturn(\r\n\t\t\t<nav className={styles.HeaderBar}>\r\n\t\t\t\t<div className={styles.HeaderBarButtons}>\r\n\t\t\t\t\t<li onClick={this.switchToPlaying}>Now playing</li>\r\n\t\t\t\t\t|\r\n\t\t\t\t\t<li onClick={this.switchToAlbums}>Albums</li>\r\n\t\t\t\t\t|\r\n\t\t\t\t\t<li onClick={this.switchToLyrics}>Lyrics</li>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={styles.HeaderBarButtons}>\r\n\t\t\t\t\t|\r\n\t\t\t\t\t{this.renderMinimizeButton()}\r\n\t\t\t\t\t<li onClick={this.props.closePlayer}>X</li>\r\n\t\t\t\t</div>\r\n\t\t\t</nav>\r\n\t\t)\t\r\n\t}\r\n}","import 'material-icons';\r\nimport React, { Component } from 'react';\r\nimport { ISong } from './Player';\r\nimport styles from './PlayerControls.module.css';\r\nimport { IController } from './PlayerMiddleware';\r\n\r\ninterface IPlayerControlsProps {\r\n\tsong: ISong | null;\r\n\tminimized: boolean;\r\n\tcontroller: IController | null;\r\n\tisPlaying: boolean;\r\n\tswitchToNextSong: () => void;\r\n\tswitchToPreviousSong: () => void;\r\n\tplayMusic: () => void;\r\n\tpauseMusic: () => void;\r\n\tsetIsPlayingStatus: (status: boolean) => void;\r\n\ttoggleMinimize: () => void;\r\n}\r\n\r\ninterface IPlayerControlsState {\r\n\tcurrentTime: number;\r\n}\r\n\r\nexport default class PlayerControls extends Component<IPlayerControlsProps, IPlayerControlsState> {\r\n\tprivate intervalTimer = 0\r\n\tpublic constructor(props: IPlayerControlsProps) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tcurrentTime: 0,\r\n\t\t}\r\n\r\n\t\tthis.setSeekerListener();\r\n\t}\r\n\r\n\t/**\r\n\t * Set seekbar listener which is a simple interval that calls time every second. Maybe better way of doing this? EventListeners?\r\n\t */\r\n\tpublic setSeekerListener = () => {\r\n\t\tthis.intervalTimer = window.setInterval(() => {\r\n\t\t\tif(this.props.controller != null) {\r\n\t\t\t\tconst time = this.props.controller.getCurrentTime();\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tcurrentTime: time\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}, 1000)\r\n\t}\r\n\r\n\tpublic componentWillUnmount() {\r\n\t\twindow.clearInterval(this.intervalTimer);\r\n\t}\r\n\r\n\tpublic togglePlayPause = () => {\r\n\t\tthis.props.isPlaying ? this.props.pauseMusic() : this.props.playMusic();\r\n\t}\r\n\r\n\tpublic onSeek = (event: React.FormEvent<HTMLInputElement>) => {\r\n\t\tif(this.props.controller != null) {\r\n\t\t\tthis.props.controller.seekTo(Number.parseInt(event.currentTarget.value, 10), true);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic renderSeekBar = () => {\r\n\t\tif(this.props.controller != null && this.state.currentTime != null && this.props.controller.getDuration() != null) {\r\n\t\t\treturn (\r\n\t\t\t\t<div className={styles.playerSeekBar}>\r\n\t\t\t\t\t<input type=\"range\" min=\"0\" max={this.props.controller.getDuration()} value={this.state.currentTime} onChange={this.onSeek} className={styles.playerSeeker} />\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\tpublic switchToNextSongButton = () => {\r\n\t\tthis.props.switchToNextSong();\r\n\t\tthis.props.setIsPlayingStatus(true);\r\n\t}\r\n\r\n\tpublic switchToPreviousSongButton = () => {\r\n\t\tthis.props.switchToPreviousSong();\r\n\t\tthis.props.setIsPlayingStatus(true);\r\n\t}\r\n\r\n\tpublic renderSongTitle = () => {\r\n\t\tif(this.props.minimized !== true && this.props.song != null) {\r\n\t\t\treturn (\r\n\t\t\t\t<div className={styles.nowPlaying}>\r\n\t\t\t\t\t<h4>{this.props.song.name} - {this.props.song.artist}</h4>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\tpublic renderMaximizeButton() {\r\n\t\tif(this.props.minimized) {\r\n\t\t\treturn (\r\n\t\t\t\t<li className={\"material-icons \" + styles.MaximizeButton} onClick={this.props.toggleMinimize}>launch</li>\r\n\t\t\t)\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\tpublic render() {\r\n\t\tif(this.props.song != null) {\r\n\t\t\treturn (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div className={styles.playerControls}>\r\n\t\t\t\t\t\t{this.renderSongTitle()}\r\n\t\t\t\t\t\t<div className={styles.controls}>\r\n\t\t\t\t\t\t\t<span className=\"material-icons\" onClick={this.switchToPreviousSongButton}>skip_previous</span>\r\n\t\t\t\t\t\t\t<span className=\"material-icons\" onClick={this.togglePlayPause}>{this.props.isPlaying ? 'pause' : 'play_arrow'}</span>\r\n\t\t\t\t\t\t\t<span className=\"material-icons\" onClick={this.switchToNextSongButton}>skip_next</span>\r\n\t\t\t\t\t\t\t{this.renderMaximizeButton()}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{this.renderSeekBar()}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\treturn null;\r\n\t}\r\n}","import React, { Component } from 'react';\r\nimport { IAlbum, ISong, PlayerInterface } from './Player';\r\nimport styles from './SongList.module.css';\r\n\r\ninterface ISongListProps {\r\n\talbum: IAlbum | null;\r\n\tswitchToSong: (album: IAlbum, song: ISong) => void;\r\n\tsetInterface: (intrfc: PlayerInterface) => void;\r\n}\r\n\r\nexport default class SongList extends Component<ISongListProps, {}> {\r\n\r\n\tpublic constructor(props: ISongListProps) {\r\n\t\tsuper(props);\r\n\t}\r\n\r\n\tpublic renderList = () => {\r\n\t\tif(this.props.album != null) {\r\n\t\t\treturn this.props.album.songs.map((song) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div key={song.name}>\r\n\t\t\t\t\t\t<button onClick={this.props.switchToSong.bind(this, this.props.album, song)} className={styles.Song}>{song.name} - {song.artist}</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)\r\n\t\t\t})\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\tpublic playAllSongs = () => {\r\n\t\tif(this.props.album != null) {\r\n\t\t\tthis.props.switchToSong(this.props.album, this.props.album.songs[0]);\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic render() {\r\n\t\tif(this.props.album != null) {\r\n\t\t\treturn (\r\n\t\t\t\t<div className={styles.SongListWrapper}>\r\n\t\t\t\t\t<h1>{this.props.album.name}</h1>\r\n\t\t\t\t\t<hr/>\r\n\t\t\t\t\t<div className={styles.SongList}>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<button className={styles.Song} onClick={this.playAllSongs}>Play all</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t{this.renderList()}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\treturn null;\r\n\t}\r\n}","import React, { Component } from 'react';\r\nimport { ISong } from './Player';\r\nimport styles from './SongLyrics.module.css';\r\n\r\ninterface ISongLyricsProps {\r\n\tsong: ISong | null;\r\n}\r\n\r\nexport default class SongLyrics extends Component<ISongLyricsProps, {}> {\r\n\t\r\n\tpublic constructor(props: ISongLyricsProps) {\r\n\t\tsuper(props);\r\n\t}\r\n\r\n\tpublic render() {\r\n\t\tif(this.props.song != null) {\r\n\t\t\treturn (\r\n\t\t\t\t<div className={styles.LyricsPadding}>\r\n\t\t\t\t\t<h1>{this.props.song.name}</h1>\r\n\t\t\t\t\t<p>{'Lyrics feature currently unavailable.'}</p>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<div className={styles.LyricsPadding}>\r\n\t\t\t\t<h1>No song selected.</h1>\r\n\t\t\t\t<p>Lyrics unavailable.</p>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}","import React, { Component } from 'react';\r\nimport { PlayerService } from '../Services/PlayerService';\r\nimport AlbumList from './AlbumList';\r\nimport styles from './Player.module.css';\r\nimport PlayerArtwork from './PlayerArtwork';\r\nimport PlayerHeaderbar from './PlayerHeaderbar';\r\nimport PlayerMiddleware from './PlayerMiddleware';\r\nimport SongList from './SongList';\r\nimport SongLyrics from './SongLyrics';\r\n\r\ninterface IPlayerState {\r\n\talbums: IAlbum[];\r\n\tcurrentAlbum: IAlbum | null;\r\n\tcurrentSong: ISong | null;\r\n\tshowList: PlayerInterface;\r\n\tshownAlbum: IAlbum | null;\r\n\tminimized: boolean;\r\n}\r\n\r\ninterface IPlayerProps {\r\n\tclosePlayer: () => void;\r\n}\r\n\r\nexport default class Player extends Component<IPlayerProps, IPlayerState> {\r\n\r\n\tconstructor(props: IPlayerProps) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\talbums: [],\r\n\t\t\tcurrentAlbum: null,\r\n\t\t\tcurrentSong: null,\r\n\t\t\tminimized: false,\r\n\t\t\tshowList: PlayerInterface.Albums,\r\n\t\t\tshownAlbum: null\r\n\t\t}\r\n\r\n\t\tthis.getAlbums();\r\n\t}\r\n\r\n\tpublic getAlbums() {\r\n\t\tPlayerService.getAlbums().then( async (incAlbums) => {\r\n\t\t\tfor (const album of incAlbums) {\r\n\t\t\t\talbum.songs = await PlayerService.getSongs(album);\r\n\t\t\t}\r\n\r\n\t\t\tthis.setState({\r\n\t\t\t\talbums: incAlbums,\r\n\t\t\t\tcurrentAlbum: incAlbums[0],\r\n\t\t\t\tcurrentSong: null\r\n\t\t\t});\r\n\t\t});\t\r\n\t}\r\n\r\n\tpublic renderListOrThumbnail = () => {\r\n\t\tswitch(this.state.showList) {\r\n\t\t\tcase PlayerInterface.Albums:\r\n\t\t\t\treturn <AlbumList setShownAlbum={this.showThisAlbum} albums={this.state.albums} />\r\n\t\t\tcase PlayerInterface.Songs:\r\n\t\t\t\treturn <SongList setInterface={this.switchToInterface} switchToSong={this.changeToSong} album={this.state.shownAlbum} />\r\n\t\t\tcase PlayerInterface.Lyrics:\r\n\t\t\t\treturn <SongLyrics song={this.state.currentSong} />\r\n\t\t\tdefault:\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<PlayerArtwork album={this.state.currentAlbum} song={this.state.currentSong} />\r\n\t\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tpublic showThisAlbum = (album: IAlbum) => {\r\n\t\tthis.setState({\r\n\t\t\tshowList: PlayerInterface.Songs,\r\n\t\t\tshownAlbum: album\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * Play a song. \r\n\t * Nulls out the current song to restart the song if it is already playing.\r\n\t */\r\n\tpublic changeToSong = (album: IAlbum, song: ISong) => {\r\n\t\tthis.setState({\r\n\t\t\tcurrentAlbum: album,\r\n\t\t\tcurrentSong: null\r\n\t\t}, () => {\r\n\t\t\tthis.setState({\r\n\t\t\t\tcurrentSong: song,\r\n\t\t\t\tshowList: PlayerInterface.NowPlaying\r\n\t\t\t})\r\n\t\t});\r\n\t}\r\n\r\n\tpublic changeToNextSong = () => {\r\n\t\tlet currentSongIndex = 0;\r\n\t\tif(this.state.currentAlbum != null && this.state.currentSong != null) {\r\n\t\t\tcurrentSongIndex = this.state.currentAlbum.songs\r\n\t\t\t.findIndex(x => x.id === (this.state.currentSong != null ? this.state.currentSong.id : ''));\r\n\r\n\t\t\tif(this.state.currentAlbum.songs.length !== currentSongIndex) {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tcurrentSong: this.state.currentAlbum.songs[currentSongIndex+1]\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tpublic changeToPreviousSong = () => {\r\n\t\tlet currentSongIndex = 0;\r\n\t\tif(this.state.currentAlbum != null && this.state.currentSong != null) {\r\n\t\t\tcurrentSongIndex = this.state.currentAlbum.songs\r\n\t\t\t.findIndex(x => x.id === (this.state.currentSong != null ? this.state.currentSong.id : ''));\r\n\r\n\t\t\tif(currentSongIndex !== 0) {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tcurrentSong: this.state.currentAlbum.songs[currentSongIndex-1]\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tpublic switchToInterface = (target: PlayerInterface) => {\r\n\t\tthis.setState({\r\n\t\t\tshowList: target\r\n\t\t});\r\n\t}\r\n\r\n\tpublic toggleMinimize = () => {\r\n\t\tthis.setState({\r\n\t\t\tminimized: !this.state.minimized\r\n\t\t})\r\n\t}\r\n\r\n\tpublic renderMainArea() {\r\n\t\tif(this.state.minimized !== true) {\r\n\t\t\treturn (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<PlayerHeaderbar closePlayer={this.props.closePlayer} toggleMinimize={this.toggleMinimize} hasSong={this.state.currentSong} switchToInterface={this.switchToInterface} />\r\n\t\t\t\t\t<div  className={styles.mainArea}>\r\n\t\t\t\t\t\t{this.renderListOrThumbnail()}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\tpublic render() {\r\n\t\treturn (\r\n\t\t\t<div className={styles.Player + \" \" + (this.state.minimized ? styles.MinimizedPlayer : styles.ShownPlayer) }>\r\n\t\t\t\t<div className={styles.relativeTo}>\r\n\t\t\t\t\t{this.renderMainArea()}\r\n\t\t\t\t\t<PlayerMiddleware \r\n\t\t\t\t\t\ttoggleMinimize={this.toggleMinimize} \r\n\t\t\t\t\t\tminimized={this.state.minimized} \r\n\t\t\t\t\t\tswitchToNextSong={this.changeToNextSong} \r\n\t\t\t\t\t\tswitchToPreviousSong={this.changeToPreviousSong} \r\n\t\t\t\t\t\tsong={this.state.currentSong}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport interface IAlbum {\r\n\tname: string;\r\n\tfolderName: string;\r\n\tsongs: ISong[];\r\n}\r\n\r\nexport interface ISong {\r\n\tname: string;\r\n\tartist: string;\r\n\tid: string;\r\n\tartwork: Array<\r\n\t\t{\r\n\t\t\tfilename: string;\r\n\t\t}\r\n\t>\r\n\tlyrics: string;\r\n}\r\n\r\nexport enum PlayerInterface {\r\n\tNowPlaying,\r\n\tAlbums,\r\n\tSongs,\r\n\tLyrics\r\n}","export class FileService {\r\n\r\n\tpublic static async getFiles() {\r\n\t\t const files = fetch('MainframeStructure.json');\r\n\t\t return files.then((s) => s.json().then(async (data: IStructure) => {\r\n\t\t\t\t// Apply the epilogue to the folder structure since it is in a seperate file.\r\n\t\t\t\t\r\n\t\t\t\t const epilogue = await this.getVampireEpilogue();\r\n\t\t\t\t /* tslint:disable:no-string-literal */\r\n\t\t\t\t data.folders[\"home\"].folders[\"mainframe\"].folders[\"Vampire\"].folders[\"Epilogue_RECOVERED.dat\"].result = epilogue.epilogue;\r\n\r\n\t\t\t\treturn data;\r\n\t\t\t})\r\n\t\t);\r\n\t}\r\n\r\n\tpublic static async getVampireEpilogue() {\r\n\t\tconst epilogue = fetch('VampireEpilogue.json');\r\n\t\treturn epilogue.then((s) => s.json().then((data: { epilogue: string }) => {\r\n\t\t\treturn data;\r\n\t\t}));\r\n\t}\r\n\r\n}\r\n\r\nexport interface IStructure {\r\n\tfolders: IStructure[],\r\n\tname: string,\r\n\tpermission: boolean,\r\n\tresult: string\r\n}","import React, { Component } from 'react';  \r\nimport { FileService, IStructure } from '../Services/FileService';\r\nimport styles from './Terminal.module.css';\r\n\r\ninterface ITerminalState {\r\n\tcurrentPath: string;\r\n\tcommands: ICommand[];\r\n\tcommandHistory: string[];\r\n\tcurrentCommand: string;\r\n\tcurrentFolder: IStructure;\r\n}\r\n\r\ninterface ITerminalProps {\r\n\tenablePlayer: () => void;\r\n}\r\n\r\ninterface ICommand {\r\n\tcommand: string;\r\n\tresult: string;\r\n}\r\n\r\nclass Terminal extends Component<ITerminalProps, ITerminalState> {\r\n\tpublic prompt = \" \";\r\n\tpublic structure: IStructure = { folders: [], name: '', permission: false, result: \"\" };\r\n\tpublic reverseHistoryNumber = 1;\t// What command is currently chosen if history is being browsed.\r\n\r\n\tpublic constructor(props: ITerminalProps) {\r\n\t\tsuper(props);\r\n\t\tthis.state = { \r\n\t\t\tcommandHistory: [],\r\n\t\t\tcommands: [],\r\n\t\t\tcurrentCommand: \"\",\r\n\t\t\tcurrentFolder: { folders: [], name: '', permission: false, result: \"\" },\r\n\t\t\tcurrentPath: \"/home/mainframe \",\r\n\t\t}\r\n\t\t\r\n\t\tthis.getFolderStructure();\r\n\t}\r\n\r\n\tpublic async getFolderStructure() {\r\n\t\tconst home = \"home\";\r\n\t\tconst mainframe = \"mainframe\";\r\n\t\tthis.structure = await FileService.getFiles();\r\n\t\t\t\t\r\n\t\tthis.setState({\r\n\t\t\tcurrentFolder: this.structure.folders[home].folders[mainframe],\r\n\t\t});\r\n\t}\r\n\r\n\tpublic keyDown = (event: React.KeyboardEvent<HTMLInputElement>) => {\r\n\r\n\t\tswitch(event.key) {\r\n\t\t\tcase 'Enter':\r\n\t\t\t\tthis.execute();\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'ArrowUp': \r\n\t\t\t\tthis.goUpHistory();\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'ArrowDown':\r\n\t\t\t\tthis.goDownHistory();\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'Tab':\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t\tthis.tabAutocomplete();\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\t// Hotkey clear.\r\n\t\tif(event.ctrlKey && event.key === 'l') {\r\n\t\t\tevent.preventDefault();\r\n\t\t\tthis.cls();\r\n\t\t}\r\n\t}\r\n\r\n\tpublic tabAutocomplete() {\r\n\t\tconst cmd = this.state.currentCommand.split(' ');\r\n\t\tif(cmd.length > 1) {\r\n\t\t\tfor (const folder in this.state.currentFolder.folders) {\r\n\t\t\t\tif(this.state.currentFolder.folders[folder] != null){\r\n\t\t\t\t\tconst fold = this.state.currentFolder.folders[folder];\r\n\t\t\t\t\tif(fold.name.toLowerCase().includes(cmd[1].toLowerCase())){\r\n\t\t\t\t\t\tcmd[1] = fold.name;\r\n\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\tcurrentCommand: cmd.join(\" \")\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n\t}\r\n\r\n\tpublic goUpHistory() {\r\n\t\tif(this.state.commandHistory[this.state.commandHistory.length - this.reverseHistoryNumber] != null) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tcurrentCommand: this.state.commandHistory[this.state.commandHistory.length - this.reverseHistoryNumber]\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tthis.reverseHistoryNumber++;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic goDownHistory() {\r\n\t\tthis.reverseHistoryNumber--;\r\n\r\n\t\tif(this.state.commandHistory[this.state.commandHistory.length - this.reverseHistoryNumber + 1] != null) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tcurrentCommand: this.state.commandHistory[this.state.commandHistory.length - this.reverseHistoryNumber + 1]\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\tcurrentCommand: \"\"\r\n\t\t});\r\n\t\tthis.reverseHistoryNumber = 1;\r\n\t}\r\n\r\n\tpublic changeCurrentCommand = (e: any) => {\r\n\t\tthis.setState({currentCommand: e.currentTarget.value})\r\n\t}\r\n\r\n\tpublic cat() {\r\n\t\tconst splitted = this.state.currentCommand.split(' ');\r\n\t\tconst fold = splitted[1];\r\n\t\tconst target = this.state.currentFolder.folders[fold];\r\n\t\t\r\n\t\tif(target != null && target.file === true && target.permission === true){\r\n\t\t\tthis.print(target.result);\r\n\t\t}\r\n\t\telse if(target != null && target.file === false) {\r\n\t\t\tthis.print(fold + ' is not a file.');\r\n\t\t}\r\n\t\telse if(target != null && target.file === true && target.permission === false){\r\n\t\t\tthis.print(\"Permission denied.\");\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.print(\"File does not exist.\");\r\n\t\t}\r\n\t}\r\n\r\n\tpublic cls = () => {\r\n\t\tthis.setState({ commands: [] })\r\n\t}\r\n\r\n\tpublic parentDirectory() {\r\n\t\tif(this.state.currentPath.trim() === \"/\"){\r\n\t\t\tthis.print('Parent directory above root does not exist.');\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tlet pathSplit = this.state.currentPath.split(\"/\");\r\n\r\n\t\t// Remove empty string and pop last.\r\n\t\tpathSplit = pathSplit.splice(1, pathSplit.length-2);\r\n\r\n\t\tlet folder: IStructure = this.structure;\r\n\r\n\t\tif(pathSplit.length > 0) {\r\n\t\t\tfor (const path of pathSplit) {\r\n\t\t\t\tfolder = folder.folders[path]\t\r\n\t\t\t} \r\n\t\t}\r\n\r\n\t\tif(folder != null){\r\n\t\t\tthis.setState({\r\n\t\t\t\tcurrentFolder: folder,\r\n\t\t\t\tcurrentPath: this.state.currentPath.replace(RegExp('/[^/]*$'), '')\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tpublic changeDirectry() {\r\n\t\tif(this.state.currentCommand.endsWith(\" ..\")){\r\n\t\t\tthis.parentDirectory();\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst splitted = this.state.currentCommand.split(' ');\r\n\t\tconst fold = splitted[1];\r\n\t\tconst target = this.state.currentFolder.folders[fold];\r\n\r\n\t\tif(target != null && target.permission === true && target.file === false){\r\n\t\t\tthis.setState({\r\n\t\t\t\tcurrentFolder: target,\r\n\t\t\t\tcurrentPath: this.state.currentPath.trim() + \"/\" + fold\r\n\t\t\t})\r\n\t\t}\r\n\t\telse if(target != null && target.permission === false){\r\n\t\t\tthis.print(\"Permission denied.\");\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.print(fold + ' does not exist or is not a folder.');\r\n\t\t}\r\n\t}\r\n\r\n\tpublic ls() {\r\n\t\tlet folders = \"\";\r\n\t\tfor (const fold in this.state.currentFolder.folders) {\r\n\t\t\tif(fold != null){\r\n\t\t\t\tfolders += fold + \"  \";\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.print(folders);\r\n\t}\r\n\r\n\tpublic executeFile() {\r\n\t\tconst splitted = this.state.currentCommand.split('/');\r\n\t\tconst fold = splitted[1];\r\n\t\tconst target = this.state.currentFolder.folders[fold];\r\n\r\n\t\tif(target != null && target.permission === true && target.file === true && fold.endsWith('Player.exe')) {\r\n\t\t\tthis.props.enablePlayer();\r\n\t\t}\r\n\t\telse if(target != null && target.permission === true && target.file === true && fold.endsWith('.exe')) {\r\n\t\t\tthis.print(target.execute);\r\n\t\t}\r\n\t\telse if(target != null && target.permission === true && target.file === true && fold.endsWith('.Site')){\r\n\t\t\twindow.location.href = target.execute;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.print('File is not executable.');\r\n\t\t}\r\n\t}\r\n\r\n\tpublic execute() {\r\n\t\tconst cmd = this.state.currentCommand.trim();\r\n\t\tthis.state.commandHistory.push(cmd);\r\n\t\tthis.reverseHistoryNumber = 1;\r\n\r\n\t\tif(cmd.toLowerCase().startsWith('./')){\r\n\t\t\tthis.executeFile();\r\n\t\t}\r\n\t\telse if(cmd.toLowerCase().startsWith('cat')) {\r\n\t\t\tthis.cat();\r\n\t\t}\r\n\t\telse if(cmd.toLowerCase() === 'cls'){\r\n\t\t\tthis.cls();\r\n\t\t}\r\n\t\telse if(cmd.toLowerCase().startsWith('exit')) {\r\n\t\t\tthis.print('Wolf.exe is running by another user. Exiting module before terminating could be dangerous for plugged in users. \\n EXIT ABORTED...');\r\n\t\t}\r\n\t\telse if(cmd.startsWith('cd')) {\r\n\t\t\tthis.changeDirectry();\r\n\t\t}\r\n\t\telse if(cmd.toLowerCase().indexOf('shit') > -1) {\r\n\t\t\tthis.print('Stop being angry.');\r\n\t\t}\r\n\t\telse if(cmd.toLowerCase().indexOf('fuck you') > -1) {\r\n\t\t\tthis.print(\"No, fuck YOU!\");\r\n\t\t}\r\n\t\telse if(cmd.toLowerCase().startsWith('fuck')) {\r\n\t\t\tthis.print(\"You can't fuck this.\");\r\n\t\t}\r\n\t\telse if(cmd.toLowerCase().startsWith('shut down')) {\r\n\t\t\tthis.print(\"Shutting down the mainframe with users logged into their Cyberdecks is extremely dangerous. \\nShut down sequence terminated.\");\r\n\t\t}\r\n\t\telse if(cmd.toLowerCase() === \"ls\") {\r\n\t\t\tthis.ls();\r\n\t\t}\r\n\t\telse if(cmd.toLowerCase() === 'help') {\r\n\t\t\tthis.print('The following commands are available: \\n ./[file] \\n cat [file] \\n cls \\n cd [folder] \\n ls \\n help')\r\n\t\t}\r\n\t\telse if(cmd === ''){\r\n\t\t\tthis.print('');\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.print('Command not found: ' + this.state.currentCommand);\r\n\t\t}\r\n\r\n\t\tthis.setState({currentCommand: \"\"});\r\n\t}\r\n\r\n\tpublic print(print: string) {\r\n\t\tconst printArray = print.split('\\n');\r\n\t\tlet first = true;\r\n\t\tfor (const printable of printArray) {\r\n\t\t\tif(first){\r\n\t\t\t\tthis.state.commands.push({command: this.state.currentPath + this.prompt + this.state.currentCommand, result: printable });\r\n\t\t\t\tfirst = false;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthis.state.commands.push({command: '', result: printable });\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tpublic render() {\r\n\t\treturn (\r\n\t\t\t<div className={styles.Terminal}>\r\n\t\t\t\t<div id=\"Terminal\" className={styles.Commands}>\r\n\t\t\t\t\t{this.state.commands.map((val) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div key={this.state.commands.indexOf(val)}>\r\n\t\t\t\t\t\t\t\t<p>{val.command}</p>\r\n\t\t\t\t\t\t\t\t<p>{val.result}</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t})}\r\n\t\t\t\t\t<div className={styles.CommandLine}>\r\n\t\t\t\t\t\t{this.state.currentPath + this.prompt}\r\n\t\t\t\t\t\t<input onKeyDown={this.keyDown} className={styles.InvisibleInput} value={this.state.currentCommand} onChange={this.changeCurrentCommand} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Terminal;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\ntype Config = {\r\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\r\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\r\n};\r\n\r\nexport function register(config?: Config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(\r\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\r\n      window.location.href\r\n    );\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl: string, config?: Config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport Mainframe from './Mainframe';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<Mainframe />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: http://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}